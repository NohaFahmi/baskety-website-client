<div class="edit-item-form flex flex-column gap-4">
  <div class="edit-item-form__header flex align-items-center justify-content-between">
    <h3 class="m-0 text-center">
      {{ title() }}
    </h3>
    <p-button styleClass="p-2 w-fit bg-transparent border-none shadow-none" icon="pi pi-times"
              (onClick)="onCancel()"
              [raised]="true"
              [text]="true" />
  </div>

  <form class="edit-item-form__form flex flex-column gap-3"
        [formGroup]="editItemForm"
        (ngSubmit)="onSubmit()">
    <div class="flex flex-column gap-2 w-full">
      <label>Item Category</label>
      <p-dropdown
        styleClass="w-full"
        [options]="categoriesList() ?? []"
        optionLabel="name"
        formControlName="categoryId"
        optionValue="id"
        placeholder="Select a Category" />
    </div>

    <div class="flex gap-4">
      <div class="relative flex flex-column gap-2 w-full">
        <label>Item Name</label>
        <input type="text" pInputText placeholder="Item Name"
               class="form-input w-full {{editItemForm.get('name')?.invalid && editItemForm.get('name')?.touched ? 'ng-dirty ng-invalid' : ''}}" formControlName="name"/>
        @if(editItemForm.get('name')?.invalid && editItemForm.get('name')?.touched) {
          <small class="p-error absolute left-0">Field is required</small>
        }
      </div>

      <div class="relative flex flex-column gap-2 w-full">
        <label>Item Price</label>
        <input type="number" pInputText  placeholder="Item Price"
               class="form-input w-full {{editItemForm.get('price')?.invalid && editItemForm.get('price')?.touched ? 'ng-dirty ng-invalid' : ''}}"
               formControlName="price"/>
        @if(editItemForm.get('price')?.invalid && editItemForm.get('price')?.touched) {
          <small class="p-error absolute left-0">Field is required</small>
        }
      </div>
    </div>
    <div class="flex gap-4">
    <div class="relative flex flex-column gap-2 w-full">
      <label>Item Quantity Unit</label>
      <input type="text" pInputText  placeholder="Item Quantity Unit"
             class="form-input w-full {{editItemForm.get('qtyUnit')?.invalid && editItemForm.get('qtyUnit')?.touched ? 'ng-dirty ng-invalid' : ''}}"
             formControlName="qtyUnit"/>
      @if(editItemForm.get('qtyUnit')?.invalid && editItemForm.get('qtyUnit')?.touched) {
        <small class="p-error absolute left-0">Field is required</small>
      }
    </div>
    <div class="relative flex flex-column gap-2 w-full">
      <label>Item Image URL</label>
      <input type="text" pInputText  placeholder="Item Image URL"
             class="form-input w-full {{editItemForm.get('imgUrl')?.invalid && editItemForm.get('imgUrl')?.touched ? 'ng-dirty ng-invalid' : ''}}"
             formControlName="imgUrl"/>
      @if(editItemForm.get('imgUrl')?.invalid && editItemForm.get('imgUrl')?.touched) {
        <small class="p-error absolute left-0">Field is required</small>
      }
    </div>
    </div>
    <div class="flex gap-3 justify-content-end w-full mt-4">
      <p-button label="Cancel" [text]="true" severity="danger"
                [link]="true" (click)="onCancel()"></p-button>
      <p-button label="Save Items" type="submit"></p-button>
    </div>
  </form>
</div>
